# Copyright 2022-2024 Chris Croome
#
# This file is part of the Webarchitects Firefox Ansible role.
#
# The Webarchitects Firefox Ansible role is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
#
# The Webarchitects Firefox Ansible role is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along with the Webarchitects Firefox Ansible role. If not, see <https://www.gnu.org/licenses/>.
---
firefox_backports: "{{ ansible_distribution_release }}-backports"

# https://docs.ansible.com/ansible/latest/playbook_guide/complex_data_manipulation.html
firefoxvarnames: "{{ q('varnames', '^firefox_') | sort }}"
firefoxhostvars: "{{ dict(firefoxvarnames | list | zip(q('vars', *firefoxvarnames))) }}"

# ASCII armored GPG public key URL linked from
# https://blog.nightly.mozilla.org/2023/10/30/introducing-mozillas-firefox-nightly-deb-packages-for-debian-based-linux-distributions/
firefox_gpg_url: https://packages.mozilla.org/apt/repo-signing-key.gpg

# Get the sha256 checksum using the following command
# wget -q 'https://packages.mozilla.org/apt/repo-signing-key.gpg' -O - | sha256sum - | awk '{ print $1 }' | sed 's/^/"sha256:/' | sed 's/$/"/'
firefox_gpg_checksum: "sha256:3ce6a27fe0538464191eebb9ff1a0b8a269af16d872524822b25198328263e84"
firefox_gpg_checksum_raw: "{{ firefox_gpg_checksum | regex_replace('^sha256:') }}"

# Get the GPG fingerprints using the following command
# wget -q 'https://packages.mozilla.org/apt/repo-signing-key.gpg' -O - | gpg --dearmor | gpg --with-colons --show-keys - | grep ^fpr | sed 's/^fpr//' | sed 's/://g' | sed 's/^/  - /'
firefox_gpg_fingerprints:
  - 35BAA0B33E9EB396F59CA838C0BA5CE6DC6315A3

# JMESPath query for Firefox Nightly GPG fingerprints
firefox_gpg_fingerprints_query: "[?type=='fpr'].user_id"

# Get the packages available using the following command
# grep Package /var/lib/apt/lists/*mozilla*_Packages | awk '{print $2}' | sort -u | sed 's/^/  - /'
firefox_pkg:
  - firefox
  - firefox-beta
  - firefox-beta-l10n-ach
  - firefox-beta-l10n-af
  - firefox-beta-l10n-an
  - firefox-beta-l10n-ar
  - firefox-beta-l10n-ast
  - firefox-beta-l10n-az
  - firefox-beta-l10n-be
  - firefox-beta-l10n-bg
  - firefox-beta-l10n-bn
  - firefox-beta-l10n-br
  - firefox-beta-l10n-bs
  - firefox-beta-l10n-ca
  - firefox-beta-l10n-cak
  - firefox-beta-l10n-ca-valencia
  - firefox-beta-l10n-cs
  - firefox-beta-l10n-cy
  - firefox-beta-l10n-da
  - firefox-beta-l10n-de
  - firefox-beta-l10n-dsb
  - firefox-beta-l10n-el
  - firefox-beta-l10n-en-ca
  - firefox-beta-l10n-en-gb
  - firefox-beta-l10n-eo
  - firefox-beta-l10n-es-ar
  - firefox-beta-l10n-es-cl
  - firefox-beta-l10n-es-es
  - firefox-beta-l10n-es-mx
  - firefox-beta-l10n-et
  - firefox-beta-l10n-eu
  - firefox-beta-l10n-fa
  - firefox-beta-l10n-ff
  - firefox-beta-l10n-fi
  - firefox-beta-l10n-fr
  - firefox-beta-l10n-fur
  - firefox-beta-l10n-fy-nl
  - firefox-beta-l10n-ga-ie
  - firefox-beta-l10n-gd
  - firefox-beta-l10n-gl
  - firefox-beta-l10n-gn
  - firefox-beta-l10n-gu-in
  - firefox-beta-l10n-he
  - firefox-beta-l10n-hi-in
  - firefox-beta-l10n-hr
  - firefox-beta-l10n-hsb
  - firefox-beta-l10n-hu
  - firefox-beta-l10n-hy-am
  - firefox-beta-l10n-ia
  - firefox-beta-l10n-id
  - firefox-beta-l10n-is
  - firefox-beta-l10n-it
  - firefox-beta-l10n-ja
  - firefox-beta-l10n-ka
  - firefox-beta-l10n-kab
  - firefox-beta-l10n-kk
  - firefox-beta-l10n-km
  - firefox-beta-l10n-kn
  - firefox-beta-l10n-ko
  - firefox-beta-l10n-lij
  - firefox-beta-l10n-lt
  - firefox-beta-l10n-lv
  - firefox-beta-l10n-mk
  - firefox-beta-l10n-mr
  - firefox-beta-l10n-ms
  - firefox-beta-l10n-my
  - firefox-beta-l10n-nb-no
  - firefox-beta-l10n-ne-np
  - firefox-beta-l10n-nl
  - firefox-beta-l10n-nn-no
  - firefox-beta-l10n-oc
  - firefox-beta-l10n-pa-in
  - firefox-beta-l10n-pl
  - firefox-beta-l10n-pt-br
  - firefox-beta-l10n-pt-pt
  - firefox-beta-l10n-rm
  - firefox-beta-l10n-ro
  - firefox-beta-l10n-ru
  - firefox-beta-l10n-sat
  - firefox-beta-l10n-sc
  - firefox-beta-l10n-sco
  - firefox-beta-l10n-si
  - firefox-beta-l10n-sk
  - firefox-beta-l10n-sl
  - firefox-beta-l10n-son
  - firefox-beta-l10n-sq
  - firefox-beta-l10n-sr
  - firefox-beta-l10n-sv-se
  - firefox-beta-l10n-szl
  - firefox-beta-l10n-ta
  - firefox-beta-l10n-te
  - firefox-beta-l10n-tg
  - firefox-beta-l10n-th
  - firefox-beta-l10n-tl
  - firefox-beta-l10n-tr
  - firefox-beta-l10n-trs
  - firefox-beta-l10n-uk
  - firefox-beta-l10n-ur
  - firefox-beta-l10n-uz
  - firefox-beta-l10n-vi
  - firefox-beta-l10n-xh
  - firefox-beta-l10n-zh-cn
  - firefox-beta-l10n-zh-tw
  - firefox-devedition
  - firefox-devedition-l10n-ach
  - firefox-devedition-l10n-af
  - firefox-devedition-l10n-an
  - firefox-devedition-l10n-ar
  - firefox-devedition-l10n-ast
  - firefox-devedition-l10n-az
  - firefox-devedition-l10n-be
  - firefox-devedition-l10n-bg
  - firefox-devedition-l10n-bn
  - firefox-devedition-l10n-br
  - firefox-devedition-l10n-bs
  - firefox-devedition-l10n-ca
  - firefox-devedition-l10n-cak
  - firefox-devedition-l10n-ca-valencia
  - firefox-devedition-l10n-cs
  - firefox-devedition-l10n-cy
  - firefox-devedition-l10n-da
  - firefox-devedition-l10n-de
  - firefox-devedition-l10n-dsb
  - firefox-devedition-l10n-el
  - firefox-devedition-l10n-en-ca
  - firefox-devedition-l10n-en-gb
  - firefox-devedition-l10n-eo
  - firefox-devedition-l10n-es-ar
  - firefox-devedition-l10n-es-cl
  - firefox-devedition-l10n-es-es
  - firefox-devedition-l10n-es-mx
  - firefox-devedition-l10n-et
  - firefox-devedition-l10n-eu
  - firefox-devedition-l10n-fa
  - firefox-devedition-l10n-ff
  - firefox-devedition-l10n-fi
  - firefox-devedition-l10n-fr
  - firefox-devedition-l10n-fur
  - firefox-devedition-l10n-fy-nl
  - firefox-devedition-l10n-ga-ie
  - firefox-devedition-l10n-gd
  - firefox-devedition-l10n-gl
  - firefox-devedition-l10n-gn
  - firefox-devedition-l10n-gu-in
  - firefox-devedition-l10n-he
  - firefox-devedition-l10n-hi-in
  - firefox-devedition-l10n-hr
  - firefox-devedition-l10n-hsb
  - firefox-devedition-l10n-hu
  - firefox-devedition-l10n-hy-am
  - firefox-devedition-l10n-ia
  - firefox-devedition-l10n-id
  - firefox-devedition-l10n-is
  - firefox-devedition-l10n-it
  - firefox-devedition-l10n-ja
  - firefox-devedition-l10n-ka
  - firefox-devedition-l10n-kab
  - firefox-devedition-l10n-kk
  - firefox-devedition-l10n-km
  - firefox-devedition-l10n-kn
  - firefox-devedition-l10n-ko
  - firefox-devedition-l10n-lij
  - firefox-devedition-l10n-lt
  - firefox-devedition-l10n-lv
  - firefox-devedition-l10n-mk
  - firefox-devedition-l10n-mr
  - firefox-devedition-l10n-ms
  - firefox-devedition-l10n-my
  - firefox-devedition-l10n-nb-no
  - firefox-devedition-l10n-ne-np
  - firefox-devedition-l10n-nl
  - firefox-devedition-l10n-nn-no
  - firefox-devedition-l10n-oc
  - firefox-devedition-l10n-pa-in
  - firefox-devedition-l10n-pl
  - firefox-devedition-l10n-pt-br
  - firefox-devedition-l10n-pt-pt
  - firefox-devedition-l10n-rm
  - firefox-devedition-l10n-ro
  - firefox-devedition-l10n-ru
  - firefox-devedition-l10n-sat
  - firefox-devedition-l10n-sc
  - firefox-devedition-l10n-sco
  - firefox-devedition-l10n-si
  - firefox-devedition-l10n-sk
  - firefox-devedition-l10n-sl
  - firefox-devedition-l10n-son
  - firefox-devedition-l10n-sq
  - firefox-devedition-l10n-sr
  - firefox-devedition-l10n-sv-se
  - firefox-devedition-l10n-szl
  - firefox-devedition-l10n-ta
  - firefox-devedition-l10n-te
  - firefox-devedition-l10n-tg
  - firefox-devedition-l10n-th
  - firefox-devedition-l10n-tl
  - firefox-devedition-l10n-tr
  - firefox-devedition-l10n-trs
  - firefox-devedition-l10n-uk
  - firefox-devedition-l10n-ur
  - firefox-devedition-l10n-uz
  - firefox-devedition-l10n-vi
  - firefox-devedition-l10n-xh
  - firefox-devedition-l10n-zh-cn
  - firefox-devedition-l10n-zh-tw
  - firefox-l10n-ach
  - firefox-l10n-af
  - firefox-l10n-an
  - firefox-l10n-ar
  - firefox-l10n-ast
  - firefox-l10n-az
  - firefox-l10n-be
  - firefox-l10n-bg
  - firefox-l10n-bn
  - firefox-l10n-br
  - firefox-l10n-bs
  - firefox-l10n-ca
  - firefox-l10n-cak
  - firefox-l10n-ca-valencia
  - firefox-l10n-cs
  - firefox-l10n-cy
  - firefox-l10n-da
  - firefox-l10n-de
  - firefox-l10n-dsb
  - firefox-l10n-el
  - firefox-l10n-en-ca
  - firefox-l10n-en-gb
  - firefox-l10n-eo
  - firefox-l10n-es-ar
  - firefox-l10n-es-cl
  - firefox-l10n-es-es
  - firefox-l10n-es-mx
  - firefox-l10n-et
  - firefox-l10n-eu
  - firefox-l10n-fa
  - firefox-l10n-ff
  - firefox-l10n-fi
  - firefox-l10n-fr
  - firefox-l10n-fur
  - firefox-l10n-fy-nl
  - firefox-l10n-ga-ie
  - firefox-l10n-gd
  - firefox-l10n-gl
  - firefox-l10n-gn
  - firefox-l10n-gu-in
  - firefox-l10n-he
  - firefox-l10n-hi-in
  - firefox-l10n-hr
  - firefox-l10n-hsb
  - firefox-l10n-hu
  - firefox-l10n-hy-am
  - firefox-l10n-ia
  - firefox-l10n-id
  - firefox-l10n-is
  - firefox-l10n-it
  - firefox-l10n-ja
  - firefox-l10n-ka
  - firefox-l10n-kab
  - firefox-l10n-kk
  - firefox-l10n-km
  - firefox-l10n-kn
  - firefox-l10n-ko
  - firefox-l10n-lij
  - firefox-l10n-lt
  - firefox-l10n-lv
  - firefox-l10n-mk
  - firefox-l10n-mr
  - firefox-l10n-ms
  - firefox-l10n-my
  - firefox-l10n-nb-no
  - firefox-l10n-ne-np
  - firefox-l10n-nl
  - firefox-l10n-nn-no
  - firefox-l10n-oc
  - firefox-l10n-pa-in
  - firefox-l10n-pl
  - firefox-l10n-pt-br
  - firefox-l10n-pt-pt
  - firefox-l10n-rm
  - firefox-l10n-ro
  - firefox-l10n-ru
  - firefox-l10n-sat
  - firefox-l10n-sc
  - firefox-l10n-sco
  - firefox-l10n-si
  - firefox-l10n-sk
  - firefox-l10n-sl
  - firefox-l10n-son
  - firefox-l10n-sq
  - firefox-l10n-sr
  - firefox-l10n-sv-se
  - firefox-l10n-szl
  - firefox-l10n-ta
  - firefox-l10n-te
  - firefox-l10n-tg
  - firefox-l10n-th
  - firefox-l10n-tl
  - firefox-l10n-tr
  - firefox-l10n-trs
  - firefox-l10n-uk
  - firefox-l10n-ur
  - firefox-l10n-uz
  - firefox-l10n-vi
  - firefox-l10n-xh
  - firefox-l10n-zh-cn
  - firefox-l10n-zh-tw
  - firefox-nightly
  - firefox-nightly-l10n-ach
  - firefox-nightly-l10n-af
  - firefox-nightly-l10n-an
  - firefox-nightly-l10n-ar
  - firefox-nightly-l10n-ast
  - firefox-nightly-l10n-az
  - firefox-nightly-l10n-be
  - firefox-nightly-l10n-bg
  - firefox-nightly-l10n-bn
  - firefox-nightly-l10n-bo
  - firefox-nightly-l10n-br
  - firefox-nightly-l10n-brx
  - firefox-nightly-l10n-bs
  - firefox-nightly-l10n-ca
  - firefox-nightly-l10n-cak
  - firefox-nightly-l10n-ca-valencia
  - firefox-nightly-l10n-ckb
  - firefox-nightly-l10n-cs
  - firefox-nightly-l10n-cy
  - firefox-nightly-l10n-da
  - firefox-nightly-l10n-de
  - firefox-nightly-l10n-dsb
  - firefox-nightly-l10n-el
  - firefox-nightly-l10n-en-ca
  - firefox-nightly-l10n-en-gb
  - firefox-nightly-l10n-eo
  - firefox-nightly-l10n-es-ar
  - firefox-nightly-l10n-es-cl
  - firefox-nightly-l10n-es-es
  - firefox-nightly-l10n-es-mx
  - firefox-nightly-l10n-et
  - firefox-nightly-l10n-eu
  - firefox-nightly-l10n-fa
  - firefox-nightly-l10n-ff
  - firefox-nightly-l10n-fi
  - firefox-nightly-l10n-fr
  - firefox-nightly-l10n-fur
  - firefox-nightly-l10n-fy-nl
  - firefox-nightly-l10n-ga-ie
  - firefox-nightly-l10n-gd
  - firefox-nightly-l10n-gl
  - firefox-nightly-l10n-gn
  - firefox-nightly-l10n-gu-in
  - firefox-nightly-l10n-he
  - firefox-nightly-l10n-hi-in
  - firefox-nightly-l10n-hr
  - firefox-nightly-l10n-hsb
  - firefox-nightly-l10n-hu
  - firefox-nightly-l10n-hy-am
  - firefox-nightly-l10n-hye
  - firefox-nightly-l10n-ia
  - firefox-nightly-l10n-id
  - firefox-nightly-l10n-is
  - firefox-nightly-l10n-it
  - firefox-nightly-l10n-ja
  - firefox-nightly-l10n-ka
  - firefox-nightly-l10n-kab
  - firefox-nightly-l10n-kk
  - firefox-nightly-l10n-km
  - firefox-nightly-l10n-kn
  - firefox-nightly-l10n-ko
  - firefox-nightly-l10n-lij
  - firefox-nightly-l10n-lo
  - firefox-nightly-l10n-lt
  - firefox-nightly-l10n-ltg
  - firefox-nightly-l10n-lv
  - firefox-nightly-l10n-meh
  - firefox-nightly-l10n-mk
  - firefox-nightly-l10n-mr
  - firefox-nightly-l10n-ms
  - firefox-nightly-l10n-my
  - firefox-nightly-l10n-nb-no
  - firefox-nightly-l10n-ne-np
  - firefox-nightly-l10n-nl
  - firefox-nightly-l10n-nn-no
  - firefox-nightly-l10n-oc
  - firefox-nightly-l10n-pa-in
  - firefox-nightly-l10n-pl
  - firefox-nightly-l10n-pt-br
  - firefox-nightly-l10n-pt-pt
  - firefox-nightly-l10n-rm
  - firefox-nightly-l10n-ro
  - firefox-nightly-l10n-ru
  - firefox-nightly-l10n-sat
  - firefox-nightly-l10n-sc
  - firefox-nightly-l10n-scn
  - firefox-nightly-l10n-sco
  - firefox-nightly-l10n-si
  - firefox-nightly-l10n-sk
  - firefox-nightly-l10n-skr
  - firefox-nightly-l10n-sl
  - firefox-nightly-l10n-son
  - firefox-nightly-l10n-sq
  - firefox-nightly-l10n-sr
  - firefox-nightly-l10n-sv-se
  - firefox-nightly-l10n-szl
  - firefox-nightly-l10n-ta
  - firefox-nightly-l10n-te
  - firefox-nightly-l10n-tg
  - firefox-nightly-l10n-th
  - firefox-nightly-l10n-tl
  - firefox-nightly-l10n-tr
  - firefox-nightly-l10n-trs
  - firefox-nightly-l10n-uk
  - firefox-nightly-l10n-ur
  - firefox-nightly-l10n-uz
  - firefox-nightly-l10n-vi
  - firefox-nightly-l10n-wo
  - firefox-nightly-l10n-xh
  - firefox-nightly-l10n-zh-cn
  - firefox-nightly-l10n-zh-tw
...
